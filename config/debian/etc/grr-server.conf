[GRR Config]
__doc__ = This is the template used in deployment of GRR. It contains the basic
  elements and test configurations to run the system.


[Datastore]
implementation = MongoDataStore
security_manager = BasicAccessControlManager

[MongoDataStore]
__doc__ = Mongo settings

[AdminUI]
__doc__ = These settings will be executed in the admin ui component.
webauth_manager = BasicWebAuthManager
url = http://localhost:8000
django_debug = True
port = 8000
django_secret_key = CHANGE_ME
Logging.filename = %(Logging.path)/grr-ui.log
Logging.verbose = True

[Frontend]
bind_address = ::
bind_port = 8080
Logging.filename = %(Logging.path)/grr-http-server.log
Logging.verbose = True

[Worker]
Logging.filename = %(Logging.path)/grr-worker.log
Logging.verbose = True

[Enroller]
Logging.filename = %(Logging.path)/grr-enroller.log
Logging.verbose = True

[SingleServer]
Logging.filename = %(Logging.path)/grr-single-server.log
Logging.verbose = False

[CommandLineTools]
Logging.verbose = False
Logging.engines = stderr


[Logging]
__doc__ = Store the logs somewhere sensible.
path = /var/log/grr

[Monitoring]
__doc__ = Monitoring parameters.
alert_email = grr-monitoring@example.com
emergency_access_email = grr-emergency-access@example.com

[CA]


[PrivateKeys]

[Demo]
Client.rss_max = 4000
Datastore.implementation = FakeDataStore
Frontend.bind_address = 127.0.0.1
Frontend.bind_port = 8080
Client.location = http://%(Frontend.bind_address):%(Frontend.bind_port)/control
Client.poll_max = 5
Logging.filename = %(Logging.path)/grr-demo.log


[LocalTest]
__doc__ = Do local testing.
# Increase the client memory limit to 4GB.
Client.rss_max = 4000

Client.location = http://localhost:8080/control
Client.poll_max = 5
Frontend.bind_address = 127.0.0.1
Frontend.bind_port = 8080
AdminUI.bind = 127.0.0.1
AdminUI.port = 8000

[Network]
api = 3


[Client]
version_major = 2
version_minor = 5
version_revision = 0
version_release = 0
location = http://localhost:8080/control
name = GRR
company_name = GRR Project
description = %(name) %(system) %(platform)
proxy_servers =

[ClientBuildWindows]
__doc__ = This section will be executed when building a windows client, the
  resulting configuration change will be copied to the client\'s deployment
  binary configuration.

config_key = Software\\%(Client.name)
config_hive = HKEY_LOCAL_MACHINE

Client.install_path! = %(SystemRoot|env)\\System32\\%(Client.name)\\%(Client.version_string)
Client.config = reg://%(config_hive)/%(config_key)

PyInstaller.console = False

Client.binary_name = %(Client.name).exe

NannyWindows.service_key_hive = %(config_hive)
NannyWindows.service_key = %(config_key)\\NannyWindows

Logging.filename! = %(WINDIR|env)/System32/logfiles/%(Client.name).log
Logging.engines = %(Logging.engines),event_log


Logging.verbose = False
ClientBuilder.template_extension = zip
ClientBuilder.output_extension = exe

__doc__ = These two entries are deprecated post 2.5.0.5 Windows client
Logging.path! = %(WINDIR|env)/System32/logfiles
ClientBuilder.logfile! = %(Logging.path)/%(Client.name)_installer.txt


[ClientLinux]
__doc__ = This section overrides client configuration for linux deployments.
Logging.engines = %(Logging.engines),syslog
Logging.path = /tmp/grr_logs/
Logging.syslog_path = /dev/log

[ClientDarwin]
__doc__ = This section overrides client configuration for osx deployments.
@inherit_from_section = Client
Logging.engines = %(Logging.engines),syslog
Logging.syslog_path = localhost:514
Logging.verbose = False

[ClientBuildDarwin]
build_root_dir = /Users/%(USER|env)/mac-build
build_src_dir = %(build_root_dir)/grr
build_dest = %(plist_binary_directory)-build
build_dest_dir = %(build_root_dir)/%(build_dest)
ClientBuilder.template_extension = template
ClientBuilder.output_extension = pkg
PyInstaller.output_root = grr
PyInstaller.config_name = grr.conf
PyInstaller.output_version_dir = %(Client.name)_%(Client.version_numeric)_%(ClientBuilder.arch)
PyInstaller.output_basename = %(PyInstaller.output_root)/%(PyInstaller.output_version_dir)
PyInstaller.build_dir = %(build_dest_dir)
PyInstaller.path = /Users/%(USER|env)/mac-build/pyinstaller-2.0/pyinstaller.py
PyInstaller.icon = %(build_src_dir)/config/pyinstaller/client/grr.ico
plist_binary_directory = grr
plist_binary_name = grr
plist_binary_prefix = /usr/lib
plist_binary_path = %(plist_binary_prefix)/%(PyInstaller.output_basename)/%(plist_binary_name)
plist_filename = %(plist_label).plist
plist_label_prefix = com
plist_label = %(plist_label_prefix).grr.%(plist_binary_name)
plist_path = /Library/LaunchDaemons/%(plist_filename)
package_maker_name = grr
package_maker_organization = com.grr
package_maker_path = /Applications/PackageMaker.app/Contents/MacOS/PackageMaker
package_dir = %(build_root_dir)/grr-pkg
Client.binary_name = %(plist_binary_name)
Client.launchctl_plist = %(plist_path)
Logging.path = /tmp
Logging.filename = %(Logging.path)/grr.log
Nanny.logfile = /var/run/grrnanny.log
Nanny.statusfile = /var/run/grrnanny.status
Client.description = GRR Client MacOS-X 64-bit
Client.company_name = GRR

[NannyWindows]
nanny_binary = %(Client.install_path)\\%(service_binary_name)
child_binary = %(Client.install_path)\\%(Client.binary_name)
child_command_line = %(child_binary) --config "%(Client.config)"
service_name = %(Client.name) Monitor
service_binary_name = %(Client.name)service.exe

[ClientBuilder]
source = /usr/share
client_logging_path = /tmp
client_logging_file = /tmp/grr.log
logfile = %(WINDIR|env)/System32/logfiles/%(Client.name)_installer.txt
logging.path = /tmp/grr_builder.log

[Test]
__doc__ = Section used for configuring test harness parameters.

Nanny.unresponsive_kill_period_doc = When running the tests we want to disable
  the nanny so we can debug.

Nanny.unresponsive_kill_period = 3600
Datastore.implementation = FakeDataStore

[Verbose]
__doc__ = This section is executed when we need to use verbose logging.

logging.verbose = True

[MemoryDriverWindows]
driver_file_i386 = binaries/winpmem_i386_1.4.sys
driver_file_amd64 = binaries/winpmem_amd64_1.4.sys
device_path = \\\\.\\pmem
install_write_path =
driver_service_name = pmem
driver_display_name = grr pmem

[MemoryDriverDarwin]
driver_file_amd64 = binaries/OSXPMem-RC1.tar.gz
device_path = /dev/pmem
install_write_path =

[MemoryDriverLinux]
device_path = /dev/pmem
install_write_path =
